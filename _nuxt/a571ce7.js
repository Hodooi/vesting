(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{916:function(t,e,n){t.exports=n.p+"img/logo-vertical.a95f208.png"},917:function(t,e,n){var content=n(920);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(102).default)("0e43a5bc",content,!0,{sourceMap:!1})},919:function(t,e,n){"use strict";n(917)},920:function(t,e,n){var r=n(101)(!1);r.push([t.i,"@import url(https://fonts.cdnfonts.com/css/circular-std-book);"]),r.push([t.i,".site-title[data-v-b701a72c]{font-size:75px}.blockchain-address[data-v-b701a72c]{font-family:monospace;text-overflow:ellipsis;max-width:100%;white-space:nowrap;overflow:hidden;display:block}",""]),t.exports=r},923:function(t,e,n){"use strict";n.r(e);var r=n(9),c=(n(68),n(128),n(44)),l={components:{ErrorModal:Object(c.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",class:{"is-active":t.$parent.error}},[n("div",{staticClass:"modal-background",on:{click:function(e){t.$parent.error=null}}}),t._v(" "),n("div",{staticClass:"modal-content p-5 has-background-danger has-radius has-text-white"},[n("h2",{staticClass:"subtitle is-3"},[t._v("Error")]),t._v(" "),n("p",[t._v(t._s(t.$parent.error))]),t._v(" "),n("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){t.$parent.error=null}}}),t._v(" "),n("div",{staticClass:"has-text-right"},[n("button",{staticClass:"button",on:{click:function(e){t.$parent.error=null}}},[t._v("OK")])])])])}),[],!1,null,null,null).exports},data:function(){return{address:this.$route.params.address,error:null,loading:!1,refreshReleasable:!0,explorer:"https://bscscan.com",vesting:{locked:null,released:null,beneficiary:null,start:null,cliff:null,duration:null},tx:{}}},created:function(){var t=this;this.$bsc.checkBscFormat(this.address)?(this.timer=setInterval((function(){t.refreshReleasable=!t.refreshReleasable}),1e3),this.getBalanceVestingContract(),this.getReleasedFunds(),this.getBeneficiary(),this.getCliff(),this.getStart(),this.getDuration()):this.error="Invalid address"},beforeDestroy:function(){clearInterval(this.timer)},computed:{bscWallet:function(){return this.$bsc?this.$bsc.wallet:null},releasable:function(){return this.refreshReleasable,this.vesting.start&&this.vesting.cliff&&this.vesting.duration&&null!==this.vesting.locked&&null!==this.vesting.released?this.calculateReleasable(this.vesting.start,this.vesting.cliff,this.vesting.duration,this.vesting.locked,this.vesting.released):null}},methods:{calculateReleasable:function(t,e,n,r,c){if(!r)return 0;var l=new Date;if(l<new Date(1e3*e))return 0;var o=(r+c)*(l.getTime()/1e3-t)/n-c;return Math.max(0,Math.min(r,o))},handleError:function(t){console.error(t),t.response&&t.response.data?t.response.data.error?this.error=t.response.data.error:t.response.data.message?this.error=t.response.data.message:this.error=t.response.data:t.message?this.error=t.message:this.error=t},getCliff:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$bsc.getCliff(t.address);case 4:n=e.sent,t.vesting.cliff=parseInt(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.handleError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getDuration:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$bsc.getDuration(t.address);case 4:n=e.sent,t.vesting.duration=parseInt(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.handleError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getStart:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$bsc.getStart(t.address);case 4:n=e.sent,t.vesting.start=parseInt(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.handleError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getBeneficiary:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$bsc.getBeneficiary(t.address);case 4:n=e.sent,t.vesting.beneficiary=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.handleError(e.t0);case 11:t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getReleasedFunds:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$bsc.getReleasedFunds(t.address);case 4:n=e.sent,t.vesting.released=parseFloat(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.handleError(e.t0);case 11:t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getBalanceVestingContract:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$bsc.getBalanceVestingContract(t.address);case 4:n=e.sent,t.vesting.locked=parseFloat(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.handleError(e.t0);case 11:t.loading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},claim:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.address){e.next=3;break}return t.error="No vesting contract selected",e.abrupt("return");case 3:if(t.bscWallet){e.next=6;break}return t.$bsc.loginModal=!0,e.abrupt("return");case 6:t.loading=!0;try{t.$bsc.releaseFunds(t.address).send({from:t.$bsc.wallet[0]}).on("transactionHash",(function(e){t.$set(t.tx,"transactionHash",e)})).on("confirmation",(function(t,e){console.log("conf",t)})).on("receipt",(function(e){t.tx=e,t.loading=!1,t.getBalanceVestingContract(),t.getReleasedFunds()})).on("error",(function(e){t.handleError(e),t.tx=null,t.loading=!1}))}catch(e){t.handleError(e),t.loading=!1}case 8:case"end":return e.stop()}}),e)})))()}}},o=(n(919),Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("error-modal"),t._v(" "),r("section",{staticClass:"section"},[r("div",{staticClass:"container"},[r("div",{staticClass:"has-text-centered block"},[r("img",{staticClass:"mb-4",attrs:{src:n(916),width:"175"}}),t._v(" "),t._m(0),t._v(" "),r("h3",{staticClass:"subtitle"},[t._v("Claim your vested HOD Tokens")])])])]),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"is-horizontal-centered has-limited-width"},[t.loading?r("div",[r("progress",{staticClass:"progress is-small is-secondary",attrs:{max:"100"}})]):t._e(),t._v(" "),r("div",{staticClass:"box has-background-image bg-dark p-6"},[r("div",{staticClass:"mb-3"},[r("nuxt-link",{staticClass:"has-text-white",attrs:{to:"/"}},[r("i",{staticClass:"fas fa-chevron-left"}),t._v(" Back")])],1),t._v(" "),r("h3",{staticClass:"subtitle"},[t._v("Claim your tokens in your vesting contract")]),t._v(" "),t.$bsc.checkBscFormat(this.address)?r("form",{on:{submit:function(e){return e.preventDefault(),t.claim.apply(null,arguments)}}},[r("div",[t._v("Locked in")]),t._v(" "),r("h3",{staticClass:"subtitle blockchain-address"},[t._v(t._s(t.address))]),t._v(" "),r("div",[t._v("Beneficiary account")]),t._v(" "),r("h3",{staticClass:"subtitle blockchain-address"},[null!==t.vesting.beneficiary?r("span",[t._v(t._s(t.vesting.beneficiary))]):r("span",[t._v("...")])]),t._v(" "),r("div",{staticClass:"columns is-multiline"},[r("div",{staticClass:"column is-half"},[r("div",[t._v("25% Unlock Cliff")]),t._v(" "),r("small",[t.vesting.cliff?r("span",[t._v(t._s(new Date(1e3*t.vesting.cliff)))]):r("span",[t._v("...")])])]),t._v(" "),r("div",{staticClass:"column is-half"},[r("div",[t._v("End date")]),t._v(" "),r("small",[t.vesting.start&&t.vesting.duration?r("span",[t._v(t._s(new Date(1e3*(parseInt(t.vesting.start)+parseInt(t.vesting.duration)))))]):r("span",[t._v("...")])])]),t._v(" "),r("div",{staticClass:"column is-half"},[r("div",[t._v("Released tokens")]),t._v(" "),r("h2",{staticClass:"subtitle"},[null!==t.vesting.released?r("span",[t._v(t._s(+t.vesting.released.toFixed(2))+" / "+t._s(+(t.vesting.locked+t.vesting.released).toFixed(2))+" HOD")]):r("span",[t._v("...")])])]),t._v(" "),r("div",{staticClass:"column is-half"},[r("div",[t._v("Currently claimable")]),t._v(" "),r("h2",{staticClass:"subtitle"},[null!==t.releasable?r("span",[t._v("~"+t._s(+t.releasable.toFixed(4))+" HOD")]):r("span",[t._v("...")])])])]),t._v(" "),t.bscWallet?r("div",[r("button",{staticClass:"button is-medium is-accent is-fullwidth mt-5",class:{"is-loading":t.loading},attrs:{disabled:t.loading||!t.address||!t.bscWallet||!t.releasable,type:"submit"}},[r("strong",[t._v("Claim HOD")])]),t._v(" "),r("div",{staticClass:"has-text-centered mt-2"},[r("a",{staticClass:"is-size-6  has-text-danger",on:{click:t.$bsc.logout}},[t._v("Logout")])])]):r("div",{staticClass:"button is-medium is-secondary is-fullwidth mt-5",on:{click:function(e){t.$bsc.loginModal=!0}}},[r("strong",[t._v("Connect Wallet")])])]):r("div",[r("h3",{staticClass:"subtitle has-text-danger"},[t._v("Invalid address")]),t._v(" "),r("nuxt-link",{staticClass:"button",attrs:{to:"/"}},[t._v("Home")])],1)]),t._v(" "),null!==t.tx&&t.tx.transactionHash?r("div",{staticClass:"notification is-success"},[r("button",{staticClass:"delete",on:{click:function(e){t.tx=null}}}),t._v("\n        Transaction sent: "),r("a",{attrs:{href:t.explorer+"/transaction/"+t.tx.transactionHash}},[t._v(t._s(t.tx.transactionHash))])]):t._e()])]),t._v(" "),t._m(1)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"site-title is-spaced title"},[t._v("Vesting"),n("span",{staticClass:"has-text-secondary"},[t._v(".")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"has-text-centered my-5"},[n("a",{attrs:{href:"https://hodooi.com",target:"_blank"}},[n("strong",[t._v("Learn more about HoDooi.com")])])])}],!1,null,"b701a72c",null));e.default=o.exports}}]);